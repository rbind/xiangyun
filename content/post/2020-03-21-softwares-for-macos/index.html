---
title: 一些 MacOS 上的软件
author: 黄湘云
date: '2020-03-21'
slug: softwares-for-macos
output:
  blogdown::html_page:
    toc: true
link-citations: true
categories:
  - 统计软件
tags:
  - 技术笔记
description: "软件环境配置是个既麻烦又耗时的苦力活，笔者曾经在 Windows 上折腾多年，换过几次电脑，工作之后，转向 MacOS 系统，又开始折腾，人生苦短，现收集整理出来，以后遇到新的坑也会填上来，尽量节省一些不必要的重复折腾。一些历史的折腾也搬上来了，生命不息，重装不止！"
---


<div id="TOC">
<ul>
<li><a href="#设置-macos" id="toc-设置-macos">设置 MacOS</a></li>
<li><a href="#配置终端" id="toc-配置终端">配置终端</a></li>
<li><a href="#配置-git" id="toc-配置-git">配置 Git</a></li>
<li><a href="#常用软件" id="toc-常用软件">常用软件</a></li>
<li><a href="#其它软件" id="toc-其它软件">其它软件</a>
<ul>
<li><a href="#办公软件" id="toc-办公软件">办公软件</a></li>
</ul></li>
<li><a href="#绘图软件" id="toc-绘图软件">绘图软件</a>
<ul>
<li><a href="#gifski" id="toc-gifski">Gifski</a></li>
<li><a href="#gnuplot" id="toc-gnuplot">gnuplot</a></li>
</ul></li>
<li><a href="#用-miniconda-配置-python-虚拟环境" id="toc-用-miniconda-配置-python-虚拟环境">用 miniconda 配置 Python 虚拟环境</a></li>
<li><a href="#用-gollum-搭建知识管理系统" id="toc-用-gollum-搭建知识管理系统">用 Gollum 搭建知识管理系统</a></li>
</ul>
</div>

<div id="设置-macos" class="section level1">
<h1>设置 MacOS</h1>
<ul>
<li><p><a href="https://macos-defaults.com/">Mac 截图去阴影等常用设置</a></p></li>
<li><p><a href="https://stackoverflow.com/questions/37286971/">自定义终端的命令行提示符</a></p></li>
<li><p>解决 <a href="https://blog.csdn.net/Rainbow1995/article/details/111475551">raw.githubusercontent.com port 443: Connection refused</a>
在网站 <a href="https://ipaddress.com/" class="uri">https://ipaddress.com/</a> 输入 <code>raw.githubusercontent.com</code> 拿到 IP 地址，添加到 hosts 文件。</p>
<pre class="bash"><code>sudo vi /etc/hosts</code></pre>
<pre><code>185.199.108.133   raw.githubusercontent.com
185.199.109.133   raw.githubusercontent.com
185.199.110.133   raw.githubusercontent.com
185.199.111.133   raw.githubusercontent.com</code></pre></li>
<li><p>配置 MacOS 终端：MacOS 自带 <a href="https://github.com/zsh-users/zsh">zsh</a>，只需安装 <a href="https://github.com/ohmyzsh/ohmyzsh">Oh My Zsh</a> 配置工具、<a href="https://github.com/ryanoasis/nerd-fonts">nerd-font</a> 图标字体和 <a href="https://github.com/romkatv/powerlevel10k">powerlevel10k</a> 主题。</p>
<pre class="bash"><code># 安装 fira-code 字体及其配套的图标字体
brew install --cask font-fira-code font-fira-code-nerd-font</code></pre></li>
</ul>
</div>
<div id="配置终端" class="section level1">
<h1>配置终端</h1>
<p><a href="https://github.com/sindresorhus/pure">pure</a> 是一个极简风格的终端配置工具</p>
<pre class="bash"><code>brew install pure</code></pre>
<p>在 <code>~/.zshrc</code> 添加</p>
<pre><code># .zshrc
autoload -U promptinit; promptinit
prompt pure</code></pre>
<p>安装插件 <a href="https://github.com/zsh-users/zsh-syntax-highlighting/">zsh-syntax-highlighting</a> 语法高亮</p>
<pre class="bash"><code>brew install zsh-syntax-highlighting</code></pre>
<p>安装插件 <a href="https://github.com/zsh-users/zsh-autosuggestions">zsh-autosuggestions</a> 自动建议</p>
<pre><code>brew install zsh-autosuggestions</code></pre>
<p>安装插件 <a href="https://github.com/zsh-users/zsh-completions">zsh-completions</a> 补全</p>
<pre class="bash"><code>brew install zsh-completions</code></pre>
<p>安装插件 <a href="https://github.com/marlonrichert/zsh-autocomplete">zsh-autocomplete</a> 自动补全</p>
<pre class="bash"><code>brew install zsh-autocomplete</code></pre>
</div>
<div id="配置-git" class="section level1">
<h1>配置 Git</h1>
<pre class="bash"><code>git config --global user.name &quot;Xiangyun Huang&quot;
git config --global user.email &quot;xiangyunfaith@outlook.com&quot;</code></pre>
</div>
<div id="常用软件" class="section level1">
<h1>常用软件</h1>
<pre class="bash"><code>brew install --cask font-noto-sans-cjk-sc font-noto-serif-cjk-sc
brew install --cask font-noto-sans font-noto-serif
brew install imagemagick proj gdal geos udunits libomp pkg-config</code></pre>
</div>
<div id="其它软件" class="section level1">
<h1>其它软件</h1>
<div id="办公软件" class="section level2">
<h2>办公软件</h2>
<pre class="bash"><code>brew install --cask notion jasp
brew install --cask adobe-creative-cloud</code></pre>
<p>视频编辑器 <a href="https://github.com/OpenShot/openshot-qt">openshot-video-editor</a> (<a href="https://www.openshot.org/zh-hans/" class="uri">https://www.openshot.org/zh-hans/</a>)</p>
<pre class="bash"><code>brew install --cask openshot-video-editor</code></pre>
<p>刘志进实验室有很多免费音乐，支持外链，可以插入博客 <a href="https://music.liuzhijin.cn/" class="uri">https://music.liuzhijin.cn/</a></p>
<p><a href="https://github.com/mltframework/shotcut">shotcut</a></p>
<pre class="bash"><code>brew install --cask shotcut</code></pre>
<p><a href="https://github.com/blender/blender">blender</a> (<a href="https://www.blender.org/" class="uri">https://www.blender.org/</a>)</p>
<pre class="bash"><code># 3D 建模
brew install --cask blender

# Github CLI 命令行工具
brew install tig gh
brew install tree gnupg

# LaTeX 代码块样式
# https://www.ctan.org/pkg/codebox</code></pre>
<p><a href="https://plantuml.com/">plantuml</a> 提供 UML 统一建模语言</p>
<pre class="bash"><code>brew install plantuml</code></pre>
<p><a href="https://asymptote.sourceforge.io/">asymptote</a> 提供一种矢量图形编程语言，像 TikZ 支持 LaTeX，<a href="https://ctan.org/pkg/asymptote">asymptote 宏包</a>及其<a href="https://asymptote.sourceforge.io/asymptote.pdf">使用文档</a>。</p>
<pre class="bash"><code>brew install asymptote</code></pre>
<p>数据科学平台</p>
<pre class="bash"><code>brew install --cask rapidminer-studio data-science-studio</code></pre>
<p><a href="https://github.com/biolab/orange3">Orange</a> (<a href="https://orangedatamining.com/" class="uri">https://orangedatamining.com/</a>) 是开源的数据挖掘软件， 每一个操作都是一个组件，将组件连接起来就是工作流，可视化数据编程</p>
<pre class="bash"><code># 数据挖掘软件
brew install --cask orange
# 收费的商业智能工具
brew install --cask tableau </code></pre>
</div>
</div>
<div id="绘图软件" class="section level1">
<h1>绘图软件</h1>
<div id="gifski" class="section level2">
<h2>Gifski</h2>
<p>安装 <a href="https://www.rust-lang.org/">Rust 软件</a> 以及 <a href="https://gif.ski/">Gifski</a> 转化器，它可将视频、图片文件转化为 GIF 动图，且转化效率和质量非常高。</p>
<ol style="list-style-type: decimal">
<li><p>安装 Rust 库 gifski</p>
<pre class="bash"><code># 安装 rust
brew install rust
# 安装 gifski 库
cargo install gifski</code></pre>
<p>在 <code>~/.cargo/config</code> 里配置就近的镜像地址加快<a href="https://github.com/nabijaczleweli/cargo-update">cargo</a>下载速度，下面配置的是上海交通大学 Linux 用户组 (SJTUG) 维护的<a href="https://mirrors.sjtug.sjtu.edu.cn/">镜像站点</a>。</p>
<pre><code>[source.crates-io]
replace-with = &quot;sjtu&quot;

[source.sjtu]
registry = &quot;https://mirrors.sjtug.sjtu.edu.cn/git/crates.io-index&quot;</code></pre>
<p>将路径 <code>~/.cargo/bin</code> 添加到 PATH 变量里，接着就可以直接使用 gifski 命令行工具了，它有几个参数，如下：</p>
<pre class="bash"><code>gifski --help</code></pre>
<p>帮助文档非常简单，就不翻译了，举个例子，下面将一段视频 <code>INPUT.mov</code> 转化为 GIF 动图 <code>OUTPUT.gif</code>。</p>
<pre class="bash"><code>gifski -W 800 -H 600 INPUT.mov -o OUTPUT.gif</code></pre></li>
<li><p>安装 gifski 软件</p>
<pre class="bash"><code>brew install gifski</code></pre></li>
</ol>
</div>
<div id="gnuplot" class="section level2">
<h2>gnuplot</h2>
<p><a href="http://www.gnuplot.info/">gnuplot</a> 是开源的绘图软件，不像 gimp，它是命令行驱动。</p>
<pre class="bash"><code>brew install gnuplot</code></pre>
<p>将下面的命令放入文件 <code>~/.gnuplot</code> 自定义字体</p>
<pre><code>set term qt font &quot;Noto Sans&quot;</code></pre>
<p>查看本机安装的字体</p>
<pre class="bash"><code>fc-list : family | sort</code></pre>
</div>
</div>
<div id="用-miniconda-配置-python-虚拟环境" class="section level1">
<h1>用 miniconda 配置 Python 虚拟环境</h1>
<p><code>~/.condarc</code> 指定虚拟环境所在目录</p>
<pre class="yaml"><code>envs_dirs:
  - /opt/miniconda-virtualenvs/</code></pre>
<p>详见 miniconda <a href="https://docs.conda.io/en/latest/miniconda.html">官方文档</a></p>
<pre class="bash"><code># 安装 miniconda
brew install --cask miniconda
# 初始化，将配置写入当前 Shell 环境，比如 .zshrc
conda init &quot;$(basename &quot;${SHELL}&quot;)&quot;   

# 创建环境
conda create -n r-reticulate python=3.8
# 激活环境
conda activate r-reticulate
# 安装模块
conda install --yes --file requirements.txt

# 更新升级 conda
conda update -n base -c defaults conda

# 退出虚拟环境
conda deactivate</code></pre>
<pre class="bash"><code># 指定安装路径和 Python 版本
conda create -p /opt/miniconda-virtualenvs/r-reticulate python=3.7
# 移除虚拟环境
conda env remove -p /opt/miniconda-virtualenvs/r-reticulate
# 更新 miniconda
conda update conda</code></pre>
</div>
<div id="用-gollum-搭建知识管理系统" class="section level1">
<h1>用 Gollum 搭建知识管理系统</h1>
<p>用 <a href="https://github.com/gollum/gollum">Gollum</a> 创建 wiki 随时记下个人笔记，gollum 源自电影《指环王》里的角色咕噜。系统环境如下</p>
<pre class="bash"><code>gem env</code></pre>
<pre><code>RubyGems Environment:
  - RUBYGEMS VERSION: 3.0.3
  - RUBY VERSION: 2.6.3 (2019-04-16 patchlevel 62) [universal.x86_64-darwin20]
  - INSTALLATION DIRECTORY: /Library/Ruby/Gems/2.6.0
  - USER INSTALLATION DIRECTORY: /Users/你的账户名/.gem/ruby/2.6.0
  - RUBY EXECUTABLE: /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/bin/ruby
  - GIT EXECUTABLE: /usr/bin/git
  - EXECUTABLE DIRECTORY: /usr/local/bin
  - SPEC CACHE DIRECTORY: /Users/你的账户名/.gem/specs
  - SYSTEM CONFIGURATION DIRECTORY: /Library/Ruby/Site
  - RUBYGEMS PLATFORMS:
    - ruby
    - universal-darwin-20
  - GEM PATHS:
     - /Library/Ruby/Gems/2.6.0
     - /Users/你的账户名/.gem/ruby/2.6.0
     - /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/gems/2.6.0
  - GEM CONFIGURATION:
     - :update_sources =&gt; true
     - :verbose =&gt; true
     - :backtrace =&gt; false
     - :bulk_threshold =&gt; 1000
     - :sources =&gt; [&quot;https://mirrors.tuna.tsinghua.edu.cn/rubygems/&quot;]
     - :concurrent_downloads =&gt; 8
  - REMOTE SOURCES:
     - https://mirrors.tuna.tsinghua.edu.cn/rubygems/
  - SHELL PATH:
     - /Users/你的账户名/.gem/ruby/2.6.0/bin</code></pre>
<p>将 <code>/Users/你的账户名/.local/share/gem/ruby/2.6.0/bin</code> 添加到 PATH 变量里，修改修改镜像源，加快下载速度</p>
<pre class="bash"><code>gem sources --add https://mirrors.tuna.tsinghua.edu.cn/rubygems/ --remove https://rubygems.org/</code></pre>
<p>安装好 Xcode 库后，安装一些编译环境，比如 cmake，一些 <a href="https://github.com/gollum/gollum">gollum</a> 依赖的库需要编译安装，这些库是用 cmake 创建的项目。更新自带的库</p>
<pre class="bash"><code>sudo gem update</code></pre>
<p>然后安装 gollum</p>
<pre class="bash"><code>brew install cmake pkg-config
gem install --user-install gollum</code></pre>
<p>注意 :warning: 由于权限问题，不能安装到系统目录，实际上，也建议安装到非系统目录，即当前账户下的目录，截止 2021-03-06 安装的最新稳定版本 gollum 5.2.1。创建一个目录，并用 git 初始化， gollum 是用 git 来做版本管理的，所以要先初始化，然后使用 gollum 服务，启动 wiki</p>
<pre class="bash"><code>gollum /path/to/wiki</code></pre>
<p>最后，预览 Wiki 网页，打开 <a href="http://localhost:4567" class="uri">http://localhost:4567</a>，gollum 默认使用 4567 端口号，如果分支使用 main， 那么启动的时候要加参数 <code>--ref</code> 指定为 main</p>
<pre class="bash"><code>gollum --ref main --emoji --allow-uploads=dir /path/to/wiki</code></pre>
<blockquote>
<p>注意：先想好目录结构，不然会很乱，以后改起来就麻烦了！</p>
</blockquote>
</div>
